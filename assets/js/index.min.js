(()=>{var a=[,()=>{Vue.component("navbar",{inject:["toggleNavbar"],template:'<div class="navbar">\n    <button v-on:click="toggleNavbar" class="navbar__close button" id="navbarClose" type="button">\n        <img src="img/navbar-close.svg" alt="navbar close" width="12" height="12">\n    </button>\n    <a href="catalog.html" class="navbar__tittle">Catalog</a>\n    <ul class="navbar__all-categories">\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">man</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Bags</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Denim</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n            </ul>\n        </li>\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">woman</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Jackets & Coats</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Polos</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Shirts</a></li>\n            </ul>\n        </li>\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">kids</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Jackets &amp; Coats</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Polos</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Bags</a></li>\n            </ul>\n        </li>\n    </ul>\n</div>'})},()=>{Vue.component("goods-item",{template:'<li class="featured__item" :data-id="id">\n    <div class="featured__picture">\n        <img class="featured__picture_image" :src="src" :alt="alt" width="360" height="420">\n        <div class="featured__image-box">\n            <button class="button featured__item-button" type="button" :data-itemAdd_id="id">\n                <img src="img/icon-cart.svg" alt="icon cart" width="26" height="24">\n                <span class="featured__item-button_text">Add to Cart</span>\n            </button>\n        </div>\n    </div>\n    <a href="#" class="featured__item_text">{{ title }}</a>\n    <p class="featured__item_subtext">Known for her sculptural takes on traditional tailoring,\n        Australian arbiter of cool Kym Ellery teams up with Moda&nbsp;Operandi.</p>\n    <p class="featured__item_price">&dollar;{{ price }}</p>\n</li>',props:["title","price","src","alt","color","size","id"]})},()=>{Vue.component("search-input",{template:'<input class="featured__search" v-model="search" v-on:input="searchHandler" placeholder="What are we looking for?">',data:()=>({search:""}),methods:{searchHandler(){this.$emit("search",this.search)}}})}],t={};function l(i){var s=t[i];if(void 0!==s)return s.exports;var e=t[i]={exports:{}};return a[i](e,e.exports,l),e.exports}(()=>{l(1),l(2),l(3);new Vue({el:"#app",provide:function(){return{toggleNavbar:this.toggleNavbar}},data:{cart:[],goods:[],filtredGoods:[],search:"",isLoaded:!1,isVisible:!1},methods:{toggleNavbar(){return this.isVisible=!this.isVisible},addToCartHandler(a){const t=a.target.closest(".featured__item").dataset.id,l=this.goods.find((a=>a.id==t));if(null==this.hasAlready(l)){const a=JSON.parse(JSON.stringify(l));a.quantity=1,this.fetchAddToCart(a)}},hasAlready(a){return this.cart.find((t=>t.id===a.id))},fetchAddToCart(a){return fetch("/addToCart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((a=>a.json())).then((a=>{this.cart=a})).catch((a=>{console.log(a)}))},searchHandler(a){""===a&&(this.filtredGoods=this.goods);const t=new RegExp(a,"gi");this.filtredGoods=this.goods.filter((a=>t.test(a.title)))}},mounted(){fetch("/data").then((a=>a.json())).then((a=>{this.goods=a,this.filtredGoods=a,this.isLoaded=!0})).catch((a=>{console.log(a)})),fetch("/cart").then((a=>a.json())).then((a=>{this.cart=a})).catch((a=>{console.log(a)}))}})})()})();