(()=>{var a={5:()=>{Vue.component("cart-item",{template:'<li class="cart__goods_item" :data-id="id">\n    <img :src="src" :alt="alt" class="cart__goods_item-image"\n        width="262" height="306">\n    <div class="cart__goods_item-wrap">\n        <div class="cart__goods_item-text">\n            <h2 class="cart__goods_item-tittle">{{ title }}</h2>\n            <ul class="cart__goods_char-list">\n                <li class="cart__goods_char-item">Price: <span\n                        class="cart__goods_char-price"> &dollar; {{ price * quantity }}</span></li>\n                <li class="cart__goods_char-item">Color: {{ color }}</li>\n                <li class="cart__goods_char-item">Size: {{ size }}</li>\n                <li class="cart__goods_char-item">\n                    Quantity: <span class="cart__goods_char-quantity" >{{ quantity }}</span>\n                    <button data-action="increase" class="cart__goods_char-button button">+</button>\n                    <button data-action="decrease" class="cart__goods_char-button button">-</button>\n                </li>                            \n            </ul>\n        </div>\n        <button data-action="removeFromCart" class="cart__goods_close button">\n            <img src="img/navbar-close.svg" class="cart__goods_close-img"\n                alt="cart close">\n        </button>\n    </div>\n </li>',props:["title","price","src","alt","color","size","id","quantity"]})},1:()=>{Vue.component("navbar",{inject:["toggleNavbar"],template:'<div class="navbar">\n    <button v-on:click="toggleNavbar" class="navbar__close button" id="navbarClose" type="button">\n        <img src="img/navbar-close.svg" alt="navbar close" width="12" height="12">\n    </button>\n    <a href="catalog.html" class="navbar__tittle">Catalog</a>\n    <ul class="navbar__all-categories">\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">man</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Bags</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Denim</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n            </ul>\n        </li>\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">woman</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Jackets & Coats</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Polos</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Shirts</a></li>\n            </ul>\n        </li>\n        <li class="navbar__categorie">\n            <ul class="navbar-list">\n                <li class="navbar-list__item-tittle"><a href="catalog.html"\n                        class="navbar-list__item-link-tittle">kids</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Accessories</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Jackets &amp; Coats</a>\n                </li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Polos</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">T-Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Shirts</a></li>\n                <li class="navbar-list__item"><a href="catalog.html"\n                        class="navbar-list__item-link">Bags</a></li>\n            </ul>\n        </li>\n    </ul>\n</div>'})}},t={};function s(i){var l=t[i];if(void 0!==l)return l.exports;var n=t[i]={exports:{}};return a[i](n,n.exports,s),n.exports}(()=>{s(1),s(5);new Vue({el:"#app",provide:function(){return{toggleNavbar:this.toggleNavbar}},data:{cartArray:[],sum:0,isLoaded:!1,isVisible:!1},methods:{toggleNavbar(){return this.isVisible=!this.isVisible},cartHandler(a){if(a.target.closest("button")){let t=a.target.closest("button").dataset.action;if(t){const s=a.target.closest(".cart__goods_item").dataset.id,i=this.cartArray.findIndex((a=>a.id==s));this[t](i)}}},countSum(){this.sum=this.cartArray.reduce((function(a,t){return a+t.price*t.quantity}),0)},increase(a){this.cartArray[a].quantity+=1,this.editCart(this.cartArray)},decrease(a){this.cartArray[a].quantity>1?this.cartArray[a].quantity-=1:this.cartArray.splice(a,1),this.editCart(this.cartArray)},removeFromCart(a){this.cartArray.splice(a,1),this.editCart(this.cartArray)},clearCart(){this.editCart([])},editCart(a){fetch("/patchCart",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((a=>a.json())).then((a=>{this.cartArray=a,this.countSum()})).catch((a=>{console.log(a)}))}},mounted(){fetch("/cart").then((a=>a.json())).then((a=>{this.cartArray=a,this.countSum(),this.isLoaded=!0})).catch((a=>{console.log(a)}))}})})()})();